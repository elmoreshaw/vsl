{"ast":null,"code":"// Generated by CoffeeScript 1.9.2\n(function () {\n  var root;\n  root = typeof exports !== \"undefined\" && exports !== null ? exports : this;\n\n  root.Lethargy = function () {\n    function Lethargy(stability, sensitivity, tolerance, delay) {\n      this.stability = stability != null ? Math.abs(stability) : 8;\n      this.sensitivity = sensitivity != null ? 1 + Math.abs(sensitivity) : 100;\n      this.tolerance = tolerance != null ? 1 + Math.abs(tolerance) : 1.1;\n      this.delay = delay != null ? delay : 150;\n\n      this.lastUpDeltas = function () {\n        var i, ref, results;\n        results = [];\n\n        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {\n          results.push(null);\n        }\n\n        return results;\n      }.call(this);\n\n      this.lastDownDeltas = function () {\n        var i, ref, results;\n        results = [];\n\n        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {\n          results.push(null);\n        }\n\n        return results;\n      }.call(this);\n\n      this.deltasTimestamp = function () {\n        var i, ref, results;\n        results = [];\n\n        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {\n          results.push(null);\n        }\n\n        return results;\n      }.call(this);\n    }\n\n    Lethargy.prototype.check = function (e) {\n      var lastDelta;\n      e = e.originalEvent || e;\n\n      if (e.wheelDelta != null) {\n        lastDelta = e.wheelDelta;\n      } else if (e.deltaY != null) {\n        lastDelta = e.deltaY * -40;\n      } else if (e.detail != null || e.detail === 0) {\n        lastDelta = e.detail * -40;\n      }\n\n      this.deltasTimestamp.push(Date.now());\n      this.deltasTimestamp.shift();\n\n      if (lastDelta > 0) {\n        this.lastUpDeltas.push(lastDelta);\n        this.lastUpDeltas.shift();\n        return this.isInertia(1);\n      } else {\n        this.lastDownDeltas.push(lastDelta);\n        this.lastDownDeltas.shift();\n        return this.isInertia(-1);\n      }\n\n      return false;\n    };\n\n    Lethargy.prototype.isInertia = function (direction) {\n      var lastDeltas, lastDeltasNew, lastDeltasOld, newAverage, newSum, oldAverage, oldSum;\n      lastDeltas = direction === -1 ? this.lastDownDeltas : this.lastUpDeltas;\n\n      if (lastDeltas[0] === null) {\n        return direction;\n      }\n\n      if (this.deltasTimestamp[this.stability * 2 - 2] + this.delay > Date.now() && lastDeltas[0] === lastDeltas[this.stability * 2 - 1]) {\n        return false;\n      }\n\n      lastDeltasOld = lastDeltas.slice(0, this.stability);\n      lastDeltasNew = lastDeltas.slice(this.stability, this.stability * 2);\n      oldSum = lastDeltasOld.reduce(function (t, s) {\n        return t + s;\n      });\n      newSum = lastDeltasNew.reduce(function (t, s) {\n        return t + s;\n      });\n      oldAverage = oldSum / lastDeltasOld.length;\n      newAverage = newSum / lastDeltasNew.length;\n\n      if (Math.abs(oldAverage) < Math.abs(newAverage * this.tolerance) && this.sensitivity < Math.abs(newAverage)) {\n        return direction;\n      } else {\n        return false;\n      }\n    };\n\n    Lethargy.prototype.showLastUpDeltas = function () {\n      return this.lastUpDeltas;\n    };\n\n    Lethargy.prototype.showLastDownDeltas = function () {\n      return this.lastDownDeltas;\n    };\n\n    return Lethargy;\n  }();\n}).call(this);","map":{"version":3,"sources":["/home/grady/Documents/work/Vessel/dApp/vessel-home/node_modules/lethargy/lethargy.js"],"names":["root","exports","Lethargy","stability","sensitivity","tolerance","delay","Math","abs","lastUpDeltas","i","ref","results","push","call","lastDownDeltas","deltasTimestamp","prototype","check","e","lastDelta","originalEvent","wheelDelta","deltaY","detail","Date","now","shift","isInertia","direction","lastDeltas","lastDeltasNew","lastDeltasOld","newAverage","newSum","oldAverage","oldSum","slice","reduce","t","s","length","showLastUpDeltas","showLastDownDeltas"],"mappings":"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","sourcesContent":["// Generated by CoffeeScript 1.9.2\n(function() {\n  var root;\n\n  root = typeof exports !== \"undefined\" && exports !== null ? exports : this;\n\n  root.Lethargy = (function() {\n    function Lethargy(stability, sensitivity, tolerance, delay) {\n      this.stability = stability != null ? Math.abs(stability) : 8;\n      this.sensitivity = sensitivity != null ? 1 + Math.abs(sensitivity) : 100;\n      this.tolerance = tolerance != null ? 1 + Math.abs(tolerance) : 1.1;\n      this.delay = delay != null ? delay : 150;\n      this.lastUpDeltas = (function() {\n        var i, ref, results;\n        results = [];\n        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {\n          results.push(null);\n        }\n        return results;\n      }).call(this);\n      this.lastDownDeltas = (function() {\n        var i, ref, results;\n        results = [];\n        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {\n          results.push(null);\n        }\n        return results;\n      }).call(this);\n      this.deltasTimestamp = (function() {\n        var i, ref, results;\n        results = [];\n        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {\n          results.push(null);\n        }\n        return results;\n      }).call(this);\n    }\n\n    Lethargy.prototype.check = function(e) {\n      var lastDelta;\n      e = e.originalEvent || e;\n      if (e.wheelDelta != null) {\n        lastDelta = e.wheelDelta;\n      } else if (e.deltaY != null) {\n        lastDelta = e.deltaY * -40;\n      } else if ((e.detail != null) || e.detail === 0) {\n        lastDelta = e.detail * -40;\n      }\n      this.deltasTimestamp.push(Date.now());\n      this.deltasTimestamp.shift();\n      if (lastDelta > 0) {\n        this.lastUpDeltas.push(lastDelta);\n        this.lastUpDeltas.shift();\n        return this.isInertia(1);\n      } else {\n        this.lastDownDeltas.push(lastDelta);\n        this.lastDownDeltas.shift();\n        return this.isInertia(-1);\n      }\n      return false;\n    };\n\n    Lethargy.prototype.isInertia = function(direction) {\n      var lastDeltas, lastDeltasNew, lastDeltasOld, newAverage, newSum, oldAverage, oldSum;\n      lastDeltas = direction === -1 ? this.lastDownDeltas : this.lastUpDeltas;\n      if (lastDeltas[0] === null) {\n        return direction;\n      }\n      if (this.deltasTimestamp[(this.stability * 2) - 2] + this.delay > Date.now() && lastDeltas[0] === lastDeltas[(this.stability * 2) - 1]) {\n        return false;\n      }\n      lastDeltasOld = lastDeltas.slice(0, this.stability);\n      lastDeltasNew = lastDeltas.slice(this.stability, this.stability * 2);\n      oldSum = lastDeltasOld.reduce(function(t, s) {\n        return t + s;\n      });\n      newSum = lastDeltasNew.reduce(function(t, s) {\n        return t + s;\n      });\n      oldAverage = oldSum / lastDeltasOld.length;\n      newAverage = newSum / lastDeltasNew.length;\n      if (Math.abs(oldAverage) < Math.abs(newAverage * this.tolerance) && (this.sensitivity < Math.abs(newAverage))) {\n        return direction;\n      } else {\n        return false;\n      }\n    };\n\n    Lethargy.prototype.showLastUpDeltas = function() {\n      return this.lastUpDeltas;\n    };\n\n    Lethargy.prototype.showLastDownDeltas = function() {\n      return this.lastDownDeltas;\n    };\n\n    return Lethargy;\n\n  })();\n\n}).call(this);\n"]},"metadata":{},"sourceType":"script"}