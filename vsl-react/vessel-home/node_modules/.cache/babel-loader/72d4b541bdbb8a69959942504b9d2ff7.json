{"ast":null,"code":"import classes from 'dom-classes';\nimport create from 'dom-create-element';\nimport prefix from 'prefix';\nimport vs from 'virtual-scroll';\nimport event from 'dom-events';\nexport default class Smooth {\n  constructor(opt = {}) {\n    this.createBound();\n    this.options = opt;\n    this.prefix = prefix('transform');\n    this.rAF = undefined; // It seems that under heavy load, Firefox will still call the RAF callback even though the RAF has been canceled\n    // To prevent that we set a flag to prevent any callback to be executed when RAF is removed\n\n    this.isRAFCanceled = false;\n    const constructorName = this.constructor.name ? this.constructor.name : 'Smooth';\n    this.extends = typeof opt.extends === 'undefined' ? this.constructor !== Smooth : opt.extends;\n    this.callback = this.options.callback || null;\n    this.vars = {\n      direction: this.options.direction || 'vertical',\n      native: this.options.native || false,\n      ease: this.options.ease || 0.075,\n      preload: this.options.preload || false,\n      current: 0,\n      last: 0,\n      target: 0,\n      height: window.innerHeight,\n      width: window.innerWidth,\n      bounding: 0,\n      timer: null,\n      ticking: false\n    };\n    this.vs = this.vars.native ? null : new vs({\n      limitInertia: this.options.vs && this.options.vs.limitInertia || false,\n      mouseMultiplier: this.options.vs && this.options.vs.mouseMultiplier || 1,\n      touchMultiplier: this.options.vs && this.options.vs.touchMultiplier || 1.5,\n      firefoxMultiplier: this.options.vs && this.options.vs.firefoxMultiplier || 30,\n      preventTouch: this.options.vs && this.options.vs.preventTouch || true\n    });\n    this.dom = {\n      listener: this.options.listener || document.body,\n      section: this.options.section || document.querySelector('.vs-section') || null,\n      scrollbar: this.vars.native || this.options.noscrollbar ? null : {\n        state: {\n          clicked: false,\n          x: 0\n        },\n        el: create({\n          selector: 'div',\n          styles: `vs-scrollbar vs-${this.vars.direction} vs-scrollbar-${constructorName.toLowerCase()}`\n        }),\n        drag: {\n          el: create({\n            selector: 'div',\n            styles: 'vs-scrolldrag'\n          }),\n          delta: 0,\n          height: 50\n        }\n      }\n    };\n  }\n\n  createBound() {\n    ['run', 'calc', 'debounce', 'resize', 'mouseUp', 'mouseDown', 'mouseMove', 'calcScroll', 'scrollTo'].forEach(fn => this[fn] = this[fn].bind(this));\n  }\n\n  init() {\n    this.addClasses();\n    this.vars.preload && this.preloadImages();\n    this.vars.native ? this.addFakeScrollHeight() : !this.options.noscrollbar && this.addFakeScrollBar();\n    this.addEvents();\n    this.resize();\n  }\n\n  addClasses() {\n    const type = this.vars.native ? 'native' : 'virtual';\n    const direction = this.vars.direction === 'vertical' ? 'y' : 'x';\n    classes.add(this.dom.listener, `is-${type}-scroll`);\n    classes.add(this.dom.listener, `${direction}-scroll`);\n  }\n\n  preloadImages() {\n    const images = Array.prototype.slice.call(this.dom.listener.querySelectorAll('img'), 0);\n    images.forEach(image => {\n      const img = document.createElement('img');\n      event.once(img, 'load', () => {\n        images.splice(images.indexOf(image), 1);\n        images.length === 0 && this.resize();\n      });\n      img.src = image.getAttribute('src');\n    });\n  }\n\n  calc(e) {\n    const delta = this.vars.direction == 'horizontal' ? e.deltaX : e.deltaY;\n    this.vars.target += delta * -1;\n    this.clampTarget();\n  }\n\n  debounce() {\n    const win = this.dom.listener === document.body;\n    this.vars.target = this.vars.direction === 'vertical' ? win ? window.scrollY || window.pageYOffset : this.dom.listener.scrollTop : win ? window.scrollX || window.pageXOffset : this.dom.listener.scrollLeft;\n    clearTimeout(this.vars.timer);\n\n    if (!this.vars.ticking) {\n      this.vars.ticking = true;\n      classes.add(this.dom.listener, 'is-scrolling');\n    }\n\n    this.vars.timer = setTimeout(() => {\n      this.vars.ticking = false;\n      classes.remove(this.dom.listener, 'is-scrolling');\n    }, 200);\n  }\n\n  run() {\n    if (this.isRAFCanceled) return;\n    this.vars.current += (this.vars.target - this.vars.current) * this.vars.ease;\n    this.vars.current < .1 && (this.vars.current = 0);\n    this.requestAnimationFrame();\n\n    if (!this.extends) {\n      this.dom.section.style[this.prefix] = this.getTransform(-this.vars.current.toFixed(2));\n    }\n\n    if (!this.vars.native && !this.options.noscrollbar) {\n      const size = this.dom.scrollbar.drag.height;\n      const bounds = this.vars.direction === 'vertical' ? this.vars.height : this.vars.width;\n      const value = Math.abs(this.vars.current) / (this.vars.bounding / (bounds - size)) + size / .5 - size;\n      const clamp = Math.max(0, Math.min(value - size, value + size));\n      this.dom.scrollbar.drag.el.style[this.prefix] = this.getTransform(clamp.toFixed(2));\n    }\n\n    if (this.callback && this.vars.current !== this.vars.last) {\n      this.callback(this.vars.current);\n    }\n\n    this.vars.last = this.vars.current;\n  }\n\n  getTransform(value) {\n    return this.vars.direction === 'vertical' ? `translate3d(0,${value}px,0)` : `translate3d(${value}px,0,0)`;\n  }\n\n  on(requestAnimationFrame = true) {\n    if (this.isRAFCanceled) {\n      this.isRAFCanceled = false;\n    }\n\n    const node = this.dom.listener === document.body ? window : this.dom.listener;\n    this.vars.native ? event.on(node, 'scroll', this.debounce) : this.vs && this.vs.on(this.calc);\n    requestAnimationFrame && this.requestAnimationFrame();\n  }\n\n  off(cancelAnimationFrame = true) {\n    const node = this.dom.listener === document.body ? window : this.dom.listener;\n    this.vars.native ? event.off(node, 'scroll', this.debounce) : this.vs && this.vs.off(this.calc);\n    cancelAnimationFrame && this.cancelAnimationFrame();\n  }\n\n  requestAnimationFrame() {\n    this.rAF = requestAnimationFrame(this.run);\n  }\n\n  cancelAnimationFrame() {\n    this.isRAFCanceled = true;\n    cancelAnimationFrame(this.rAF);\n  }\n\n  addEvents() {\n    this.on();\n    event.on(window, 'resize', this.resize);\n  }\n\n  removeEvents() {\n    this.off();\n    event.off(window, 'resize', this.resize);\n  }\n\n  addFakeScrollBar() {\n    this.dom.listener.appendChild(this.dom.scrollbar.el);\n    this.dom.scrollbar.el.appendChild(this.dom.scrollbar.drag.el);\n    event.on(this.dom.scrollbar.el, 'click', this.calcScroll);\n    event.on(this.dom.scrollbar.el, 'mousedown', this.mouseDown);\n    event.on(document, 'mousemove', this.mouseMove);\n    event.on(document, 'mouseup', this.mouseUp);\n  }\n\n  removeFakeScrollBar() {\n    event.off(this.dom.scrollbar.el, 'click', this.calcScroll);\n    event.off(this.dom.scrollbar.el, 'mousedown', this.mouseDown);\n    event.off(document, 'mousemove', this.mouseMove);\n    event.off(document, 'mouseup', this.mouseUp);\n    this.dom.listener.removeChild(this.dom.scrollbar.el);\n  }\n\n  mouseDown(e) {\n    e.preventDefault();\n    e.which == 1 && (this.dom.scrollbar.state.clicked = true);\n  }\n\n  mouseUp(e) {\n    this.dom.scrollbar.state.clicked = false;\n    classes.remove(this.dom.listener, 'is-dragging');\n  }\n\n  mouseMove(e) {\n    this.dom.scrollbar.state.clicked && this.calcScroll(e);\n  }\n\n  addFakeScrollHeight() {\n    this.dom.scroll = create({\n      selector: 'div',\n      styles: 'vs-scroll-view'\n    });\n    this.dom.listener.appendChild(this.dom.scroll);\n  }\n\n  removeFakeScrollHeight() {\n    this.dom.listener.removeChild(this.dom.scroll);\n  }\n\n  calcScroll(e) {\n    const client = this.vars.direction == 'vertical' ? e.clientY : e.clientX;\n    const bounds = this.vars.direction == 'vertical' ? this.vars.height : this.vars.width;\n    const delta = client * (this.vars.bounding / bounds);\n    classes.add(this.dom.listener, 'is-dragging');\n    this.vars.target = delta;\n    this.clampTarget();\n    this.dom.scrollbar && (this.dom.scrollbar.drag.delta = this.vars.target);\n  }\n\n  scrollTo(offset) {\n    if (this.vars.native) {\n      this.vars.direction == 'vertical' ? window.scrollTo(0, offset) : window.scrollTo(offset, 0);\n    } else {\n      this.vars.target = offset;\n      this.clampTarget();\n    }\n  }\n\n  resize() {\n    const prop = this.vars.direction === 'vertical' ? 'height' : 'width';\n    this.vars.height = window.innerHeight;\n    this.vars.width = window.innerWidth;\n\n    if (!this.extends) {\n      const bounding = this.dom.section.getBoundingClientRect();\n      this.vars.bounding = this.vars.direction === 'vertical' ? bounding.height - (this.vars.native ? 0 : this.vars.height) : bounding.right - (this.vars.native ? 0 : this.vars.width);\n    }\n\n    if (!this.vars.native && !this.options.noscrollbar) {\n      this.dom.scrollbar.drag.height = this.vars.height * (this.vars.height / (this.vars.bounding + this.vars.height));\n      this.dom.scrollbar.drag.el.style[prop] = `${this.dom.scrollbar.drag.height}px`;\n    } else if (this.vars.native) {\n      this.dom.scroll.style[prop] = `${this.vars.bounding}px`;\n    }\n\n    !this.vars.native && this.clampTarget();\n  }\n\n  clampTarget() {\n    this.vars.target = Math.round(Math.max(0, Math.min(this.vars.target, this.vars.bounding)));\n  }\n\n  destroy() {\n    if (this.vars.native) {\n      classes.remove(this.dom.listener, 'is-native-scroll');\n      this.removeFakeScrollHeight();\n    } else {\n      classes.remove(this.dom.listener, 'is-virtual-scroll');\n      !this.options.noscrollbar && this.removeFakeScrollBar();\n    }\n\n    this.vars.direction === 'vertical' ? classes.remove(this.dom.listener, 'y-scroll') : classes.remove(this.dom.listener, 'x-scroll');\n    this.vars.current = 0;\n    this.vs && (this.vs.destroy(), this.vs = null);\n    this.removeEvents();\n  }\n\n}\nwindow.Smooth = Smooth;","map":{"version":3,"sources":["/home/grady/Documents/work/Vessel/dApp/vessel-home/node_modules/smooth-scrolling/index.js"],"names":["classes","create","prefix","vs","event","Smooth","constructor","opt","createBound","options","rAF","undefined","isRAFCanceled","constructorName","name","extends","callback","vars","direction","native","ease","preload","current","last","target","height","window","innerHeight","width","innerWidth","bounding","timer","ticking","limitInertia","mouseMultiplier","touchMultiplier","firefoxMultiplier","preventTouch","dom","listener","document","body","section","querySelector","scrollbar","noscrollbar","state","clicked","x","el","selector","styles","toLowerCase","drag","delta","forEach","fn","bind","init","addClasses","preloadImages","addFakeScrollHeight","addFakeScrollBar","addEvents","resize","type","add","images","Array","prototype","slice","call","querySelectorAll","image","img","createElement","once","splice","indexOf","length","src","getAttribute","calc","e","deltaX","deltaY","clampTarget","debounce","win","scrollY","pageYOffset","scrollTop","scrollX","pageXOffset","scrollLeft","clearTimeout","setTimeout","remove","run","requestAnimationFrame","style","getTransform","toFixed","size","bounds","value","Math","abs","clamp","max","min","on","node","off","cancelAnimationFrame","removeEvents","appendChild","calcScroll","mouseDown","mouseMove","mouseUp","removeFakeScrollBar","removeChild","preventDefault","which","scroll","removeFakeScrollHeight","client","clientY","clientX","scrollTo","offset","prop","getBoundingClientRect","right","round","destroy"],"mappings":"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","sourcesContent":["import classes from 'dom-classes'\nimport create from 'dom-create-element'\nimport prefix from 'prefix'\nimport vs from 'virtual-scroll'\nimport event from 'dom-events'\n\nexport default class Smooth {\n\n  constructor(opt = {}) {\n    this.createBound()\n    this.options = opt\n    this.prefix = prefix('transform')\n    this.rAF = undefined\n    // It seems that under heavy load, Firefox will still call the RAF callback even though the RAF has been canceled\n    // To prevent that we set a flag to prevent any callback to be executed when RAF is removed\n    this.isRAFCanceled = false\n    const constructorName = this.constructor.name ? this.constructor.name : 'Smooth'\n    this.extends = typeof opt.extends === 'undefined' ? this.constructor !== Smooth : opt.extends\n    this.callback = this.options.callback || null\n    this.vars = {\n      direction: this.options.direction || 'vertical',\n      native: this.options.native || false,\n      ease: this.options.ease || 0.075,\n      preload: this.options.preload || false,\n      current: 0,\n      last: 0,\n      target: 0,\n      height: window.innerHeight,\n      width: window.innerWidth,\n      bounding: 0,\n      timer: null,\n      ticking: false\n    }\n    this.vs = this.vars.native ? null : new vs({\n      limitInertia: this.options.vs && this.options.vs.limitInertia || false,\n      mouseMultiplier: this.options.vs && this.options.vs.mouseMultiplier || 1,\n      touchMultiplier: this.options.vs && this.options.vs.touchMultiplier || 1.5,\n      firefoxMultiplier: this.options.vs && this.options.vs.firefoxMultiplier || 30,\n      preventTouch: this.options.vs && this.options.vs.preventTouch || true\n    })\n    this.dom = {\n      listener: this.options.listener || document.body,\n      section: this.options.section || document.querySelector('.vs-section') || null,\n      scrollbar: this.vars.native || this.options.noscrollbar ? null : {\n        state: {\n          clicked: false,\n          x: 0\n        },\n        el: create({ selector: 'div', styles: `vs-scrollbar vs-${this.vars.direction} vs-scrollbar-${constructorName.toLowerCase()}` }),\n        drag: {\n          el: create({ selector: 'div', styles: 'vs-scrolldrag' }),\n          delta: 0,\n          height: 50\n        }\n      }\n    }\n  }\n\n  createBound() {\n    ['run', 'calc', 'debounce', 'resize', 'mouseUp', 'mouseDown', 'mouseMove', 'calcScroll', 'scrollTo']\n    .forEach((fn) => this[fn] = this[fn].bind(this));\n  }\n\n  init() {\n    this.addClasses()\n    this.vars.preload && this.preloadImages()\n    this.vars.native ? this.addFakeScrollHeight() : !this.options.noscrollbar && this.addFakeScrollBar()\n    this.addEvents()\n    this.resize()\n  }\n\n  addClasses() {\n    const type = this.vars.native ? 'native' : 'virtual'\n    const direction = this.vars.direction === 'vertical' ? 'y' : 'x'\n    classes.add(this.dom.listener, `is-${type}-scroll`)\n    classes.add(this.dom.listener, `${direction}-scroll`)\n  }\n\n  preloadImages() {\n    const images = Array.prototype.slice.call(this.dom.listener.querySelectorAll('img'), 0)\n    images.forEach((image) => {\n      const img = document.createElement('img')\n      event.once(img, 'load', () => {\n        images.splice(images.indexOf(image), 1)\n        images.length === 0 && this.resize()\n      })\n      img.src = image.getAttribute('src')\n    })\n  }\n\n  calc(e) {\n    const delta = this.vars.direction == 'horizontal' ? e.deltaX : e.deltaY\n    this.vars.target += delta * -1\n    this.clampTarget()\n  }\n\n  debounce() {\n    const win = this.dom.listener === document.body\n    this.vars.target = this.vars.direction === 'vertical' ? win ? window.scrollY || window.pageYOffset : this.dom.listener.scrollTop : win ? window.scrollX || window.pageXOffset : this.dom.listener.scrollLeft\n    clearTimeout(this.vars.timer)\n    if(!this.vars.ticking) {\n      this.vars.ticking = true;\n      classes.add(this.dom.listener, 'is-scrolling')\n    }\n    this.vars.timer = setTimeout(() => {\n      this.vars.ticking = false\n      classes.remove(this.dom.listener, 'is-scrolling')\n    }, 200)\n  }\n\n  run() {\n    if (this.isRAFCanceled) return\n    this.vars.current += (this.vars.target - this.vars.current) * this.vars.ease\n    this.vars.current < .1 && (this.vars.current = 0)\n    this.requestAnimationFrame()\n    if(!this.extends){\n      this.dom.section.style[this.prefix] = this.getTransform(-this.vars.current.toFixed(2))\n    }\n    if(!this.vars.native && !this.options.noscrollbar) {\n      const size = this.dom.scrollbar.drag.height\n      const bounds = this.vars.direction === 'vertical' ? this.vars.height : this.vars.width\n      const value = (Math.abs(this.vars.current) / (this.vars.bounding / (bounds - size))) + (size / .5) - size\n      const clamp = Math.max(0, Math.min(value-size, value+size))\n      this.dom.scrollbar.drag.el.style[this.prefix] = this.getTransform(clamp.toFixed(2))\n    }\n    if (this.callback && this.vars.current !== this.vars.last) {\n      this.callback(this.vars.current)\n    }\n    this.vars.last = this.vars.current\n  }\n\n  getTransform(value) {\n    return this.vars.direction === 'vertical' ? `translate3d(0,${value}px,0)` : `translate3d(${value}px,0,0)`\n  }\n\n  on(requestAnimationFrame = true) {\n    if (this.isRAFCanceled) {\n      this.isRAFCanceled = false\n    }\n    const node = this.dom.listener === document.body ? window : this.dom.listener\n    this.vars.native ? event.on(node, 'scroll', this.debounce) : (this.vs && this.vs.on(this.calc))\n    requestAnimationFrame && this.requestAnimationFrame()\n  }\n\n  off(cancelAnimationFrame = true) {\n    const node = this.dom.listener === document.body ? window : this.dom.listener\n    this.vars.native ? event.off(node, 'scroll', this.debounce) : (this.vs && this.vs.off(this.calc))\n    cancelAnimationFrame && this.cancelAnimationFrame()\n  }\n\n  requestAnimationFrame() {\n    this.rAF = requestAnimationFrame(this.run)\n  }\n\n  cancelAnimationFrame() {\n    this.isRAFCanceled = true\n    cancelAnimationFrame(this.rAF)\n  }\n\n  addEvents() {\n    this.on()\n    event.on(window, 'resize', this.resize)\n  }\n\n  removeEvents() {\n    this.off()\n    event.off(window, 'resize', this.resize)\n  }\n\n  addFakeScrollBar() {\n    this.dom.listener.appendChild(this.dom.scrollbar.el)\n    this.dom.scrollbar.el.appendChild(this.dom.scrollbar.drag.el)\n    event.on(this.dom.scrollbar.el, 'click', this.calcScroll)\n    event.on(this.dom.scrollbar.el, 'mousedown', this.mouseDown)\n    event.on(document, 'mousemove', this.mouseMove)\n    event.on(document, 'mouseup', this.mouseUp)\n  }\n\n  removeFakeScrollBar() {\n    event.off(this.dom.scrollbar.el, 'click', this.calcScroll)\n    event.off(this.dom.scrollbar.el, 'mousedown', this.mouseDown)\n    event.off(document, 'mousemove', this.mouseMove)\n    event.off(document, 'mouseup', this.mouseUp)\n    this.dom.listener.removeChild(this.dom.scrollbar.el)\n  }\n\n  mouseDown(e) {\n    e.preventDefault()\n    e.which == 1 && (this.dom.scrollbar.state.clicked = true)\n  }\n\n  mouseUp(e) {\n    this.dom.scrollbar.state.clicked = false\n    classes.remove(this.dom.listener, 'is-dragging')\n  }\n\n  mouseMove(e) {\n    this.dom.scrollbar.state.clicked && this.calcScroll(e)\n  }\n\n  addFakeScrollHeight() {\n    this.dom.scroll = create({\n      selector: 'div',\n      styles: 'vs-scroll-view'\n    })\n    this.dom.listener.appendChild(this.dom.scroll)\n  }\n\n  removeFakeScrollHeight() {\n    this.dom.listener.removeChild(this.dom.scroll)\n  }\n\n  calcScroll(e) {\n    const client = this.vars.direction == 'vertical' ? e.clientY : e.clientX\n    const bounds = this.vars.direction == 'vertical' ? this.vars.height : this.vars.width\n    const delta = client * (this.vars.bounding / bounds)\n    classes.add(this.dom.listener, 'is-dragging')\n    this.vars.target = delta\n    this.clampTarget()\n    this.dom.scrollbar && (this.dom.scrollbar.drag.delta = this.vars.target)\n  }\n\n  scrollTo(offset) {\n    if(this.vars.native) {\n      this.vars.direction == 'vertical' ? window.scrollTo(0, offset) : window.scrollTo(offset, 0)\n    } else {\n      this.vars.target = offset\n      this.clampTarget()\n    }\n  }\n\n  resize() {\n    const prop = this.vars.direction === 'vertical' ? 'height' : 'width';\n    this.vars.height = window.innerHeight\n    this.vars.width = window.innerWidth\n    if(!this.extends) {\n      const bounding = this.dom.section.getBoundingClientRect()\n      this.vars.bounding = this.vars.direction === 'vertical' ? bounding.height - (this.vars.native ? 0 : this.vars.height) : bounding.right - (this.vars.native ? 0 : this.vars.width)\n    }\n    if(!this.vars.native && !this.options.noscrollbar) {\n      this.dom.scrollbar.drag.height = this.vars.height * (this.vars.height / (this.vars.bounding + this.vars.height))\n      this.dom.scrollbar.drag.el.style[prop] = `${this.dom.scrollbar.drag.height}px`\n    } else if(this.vars.native) {\n      this.dom.scroll.style[prop] = `${this.vars.bounding}px`\n    }\n    !this.vars.native && this.clampTarget();\n  }\n\n  clampTarget() {\n    this.vars.target = Math.round(Math.max(0, Math.min(this.vars.target, this.vars.bounding)))\n  }\n\n  destroy() {\n    if(this.vars.native) {\n      classes.remove(this.dom.listener, 'is-native-scroll')\n      this.removeFakeScrollHeight()\n    } else {\n      classes.remove(this.dom.listener, 'is-virtual-scroll')\n      !this.options.noscrollbar && this.removeFakeScrollBar()\n    }\n    this.vars.direction === 'vertical' ? classes.remove(this.dom.listener, 'y-scroll') : classes.remove(this.dom.listener, 'x-scroll')\n    this.vars.current = 0\n    this.vs && (this.vs.destroy(), this.vs = null)\n    this.removeEvents()\n  }\n}\n\nwindow.Smooth = Smooth"]},"metadata":{},"sourceType":"module"}